# DXライブラリを使える環境を整える
ではDXライブラリを使えるようにしましょう  
OneDrive内の を自分が持ってきたUSBメモリにDLし，解凍してください．   
今回のゲーム開発では，**Visual Studio Community 2015**を使用します．学校のPC(電算室)には最初から入っていますが，もし自宅でも開発したい猛者は**Visual Studio Community 2017**をインストールしてください．  
2015でない理由は簡単で、2015よりも軽いからです。 
### Visual Stuio Community 2017のインストール   

インストールの仕方は、まず、 <https://www.visualstudio.com/>このリンクに行きましょう 
****** 
終わったら，**SampleGame.sln**を開いてください．  
本来なら，開いたプロジェクトをいろいろ設定して，DXライブラリの実行環境を整えないといけないのですが，今回は最初からやっといたので何もしなくても大丈夫です！！！  
ここでは，DXライブラリを使いながら，Visual Studioの簡単な使い方を軽く説明します。  

| |ビルド(コンパイル)|デバッグ(実行) |
|-----|-----------|---------- |
|ショートカット|Ctrl + Shift + B | Ctrl+F5 |
|画面内でのやり方|ビルド(B) →ソリューションのビルド| デバッグ(D)→デバッグなしで開始|

では早速コンパイルして実行してみてください。  
**真っ黒なWindowが出てきて、クリック、または何かキーを押すと画面が消えれば成功です!**

今回はここまでにして、コードの解説は次回....
****

## おまけ  自分でプロジェクトを作る  (必須)
今回は時間とかの関係でもう環境構築が済んだ状態で進めましたが、一応0からのプロジェクト作成にも触れておきます。分からなくても読むだけ読んどいてください。

### 1  Visual Studioのプロジェクトを作る  (必須)
<dd>左上のファイル(F)→新規作成(N)→プロジェクト(P)からプロジェクトを作ることができます。
なおこれから皆さんはVisual StudioのようなIDEを別の機会でも使うことになると思います。 多分いつかきっと。 その時にも大体同じような手順でプロジェクトが作成できることもあるので覚えておきましょう。</dd>

### 2  プロジェクトの種類を決める  (必須)
<dd>いろんなプロジェクトが作れますが、今回は**Win32プロジェクト**を選んでください。</dd>

### 3  初期設定  (必須)
<dd>特にやることはありませんが、**空のプロジェクト(E)にピンをつけておきましょう。**  
そして完了をクリック</dd>

### 4 ソースファイルの追加  (必須)
<dd>Visual Studioでは、ソースコードの追加は右側のソリューションエクスプローラーから行います。  
ソースファイル→新しい項目(W)からC++ファイル（.cpp）を選択します。ファイル名は何でもいいです。この場合はtest.cppにしています。   
するとエディタが出てくると思います。ここにプログラムを書くわけです。</dd>

### 5プロジェクト設定  (Dxlibを使うときにやる)
正直今までのはたいして難しくなかったのですが、ここからやべーです。   

- 左上の「構成」を(Debug)にかえて、 左側の「構成プロパティ」>「C/C++」>「コード生成」を選択し、「ランタイム ライブラリ」で「マルチスレッド デバッグ (/MTd)」を選択します。  
- 画面左上の「構成」を「Release」にして、先ほど変更したのと同じ「ランタイム ライブラリ」を「マルチスレッド(/MT)」に変更します。
- 構成」を「全ての構成」にし、「全般」を選択し、右側の「文字セット」を「マルチバイト文字を使用する」にします。
- 次に今作ったプロジェクトの中に「DxlibFile」を入れましょう。（じつはこれがDxLib本体です。）  
このファイルをプロジェクトに読み込んで使っていきます。
- C/C++をクリックし、「追加のインクルードディレクトリ」の右側の「...」をクリックします。 その後、フォルダのアイコンを選択し、「...」のアイコンを選択します。そこに**DxlibFile**と打ち込んでファイルの場所を指定します。  
実はこのパスは相対参照なんですが、その理由は、USBとかで持ち運ぶとき絶対参照の場合、もしかしたらファイルパスを変えないといけなくなる恐れがあります。  
例を挙げると、**あるPCではUSBがE:から始まるパスで、他のPCではW:から始まるパスだった場合**に起こります。  
絶対参照だと、ファイルの場所を常に同じにする必要があるので、USBでは相性が悪いですね。そこで相対参照を使っています
- 次に「リンカ」を選択し、同様に「追加のライブラリディレクトリ」の「...」を選択します。
ンクルードディレクトリの時と同じように、「DxLibFile」フォルダを選択します。  
  参考 : [補足資料 1. DXライブラリを使ったプロジェクトを作ろう](https://dixq.net/g/h_01.html)   (https://dixq.net/g/h_01.html)
 - 以下のプログラムを先ほど追加したソースコードに書いてみましょう。
```C++
#include "DxLib.h"

int WINAPI WinMain(HINSTANCE,HINSTANCE,LPSTR,int){
    ChangeWindowMode(true);
	DxLib_Init();	// DXライブラリ初期化処理
	WaitKey();	// キー入力待ち
	DxLib_End();	// DXライブラリ終了処理
	return 0;
}
```
コンパイルが通り、今回の最後の結果と同じように、**真っ黒なWindowが出てきて、クリック、または何かキーを押すと画面が消えれば成功です!**
### お疲れさまでした。以上でプロジェクト作成は終了です。
はいもう見たらわかるように、これをやるとそれだけで一日終わりそうだったので割愛しました。
